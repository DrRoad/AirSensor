################################################################################
#                                                                              #
# 2019-06-27                                                                   #
# Example crontab for joule.mazamascience.com                                  #
#                                                                              #
# Note that arguments to the  ~_exec script will be run inside the docker      #
# container and refer to the absolute path of directories in that container.   #
# The '-v' command mounts host machine directories to container directories.   #
#                                                                              #
# Note that /home/mazama is found inside the docker image.                     #
################################################################################

# ----- Create "pas" files hourly and once per day -----------------------------

# NOTE:  This script creates both YYmmddHH and YYmmdd versions of the file so
# NOTE:  that the day-stamped version will always have the latest data.

00 * * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/pas/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createPAS_exec.R --outputDir=/data --logDir=/logs >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

# Archival once per day
05 01 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/pas/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createPAS_archival_exec.R --outputDir=/data --logDir=/logs >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 


# ----- Create "pat" files hourly and once per day -----------------------------

07 * * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/pat/latest:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createLatestPAT_exec.R --outputDir=/data --logDir=/logs --pattern=^[Ss][Cc].._..$ >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

30 02 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/pat/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createMonthlyPAT_exec.R --outputDir=/data --logDir=/logs --pattern=^[Ss][Cc].._..$ >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 


# ----- Create "airsensor" files after the "pat" files -------------------------

17 * * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/airsensor/latest:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createLatestAirSensor_exec.R --outputDir=/data --logDir=/logs --pattern=^[Ss][Cc].._..$ >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

40 02 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/airsensor/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createMonthlyAirSensor_exec.R --outputDir=/data --logDir=/logs --pattern=^[Ss][Cc].._..$ >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 


# ----- Create annual "airsensor" files once per day ---------------------------

03 02 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/airsensor/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createAnnualAirSensor_exec.R --outputDir=/data --logDir=/logs >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 


# ----- Create community videos once per day -----------------------------------

  # SCAP --- Alhambra/Monterey Park
  # SCBB --- Big Bear Lake
  # SCEM --- El Monte
  # SCIV --- Imperial Valley
  # SCNP --- Nipomo
  # SCPR --- Paso Robles
  # SCSJ --- San Jacinto
  # SCSB --- Seal Beach
  # SCAH --- SCAH
  # SCAN --- SCAN
  # SCUV --- SCUV
  # SCSG --- South Gate
  # SCHS --- Sycamore Canyon
  # SCTV --- Temescal Valley

00 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCAP >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

05 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCBB >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

10 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCEM >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

15 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCIV >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

20 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCNP >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

25 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCPR >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

30 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCSJ >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

35 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCSB >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

40 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCAH >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

45 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCAN >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

50 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCUV >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

55 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCSG >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

57 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCHS >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

15 03 * * *    docker run --rm -v /Users/jonathan/Projects/MazamaScience/AirSensor/local_executables:/app -v /Users/jonathan/docker_out/data/PurpleAir/videos/2019:/data -v /Users/jonathan/docker_out/data/PurpleAir/logs:/logs -w /app mazamascience/airsensor /app/createVideo_exec.R --outputDir=/data --logDir=/logs --communityID=SCTV >> /Users/jonathan/docker_out/data/PurpleAir/logs/cron_log.txt 2>&1 

